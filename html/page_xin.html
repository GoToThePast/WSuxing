<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>立方体导航</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <style type="text/css">
        html,
        body {
            height: 100%;
            overflow-x: hidden;
        }

        body {
            background-color: #fff;
            padding: 0;
            margin: 0;
            display: -webkit-box;
            display: -webkit-flex;
            display: flex;
            height: 100%;
            -webkit-box-orient: vertical;
            -webkit-flex-flow: column;
            flex-flow: column;
        }
    </style>
</head>

<body>

</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">

    apiready = function() {
        api.addEventListener({
            name: 'btBarChangeTofrist'
        }, function(ret, err) {
            init();
        });
        init();
        tab = api.require("arcMenu");
        fnTab();
    };

    function init() {
        api.openFrameGroup({
            name: 'cubes',
            scrollEnabled: false,
            preload:1,
            rect: {
                x: 0,
                y: 0,
                w: api.frameWidth,
                h: api.frameHeight
            },
            index: 0,
            frames: [{
                name: 'cube1',
                url: './cube1.html'
            }, {
                name: 'cube2',
                url: './cube2.html'
            }, {
                name: 'cube3',
                url: './cube3.html'
            }]
        }, function(ret, err) {

        });
    }

    function fnTab() {
        tab.open({
            type: 'arc',
            mainMenu: {
                x: api.frameWidth / 2,
                y: api.frameHeight / 2 + 300,
                w: 80,
                h: 80,
                /*修改背景 按钮图片，看你自己喜好修改*/
                img: 'widget://image/tab/1.png',
                imgLight: 'widget://image/tab/1.png'
            },
            items: [{
                w: 40,
                h: 40,
                img: 'widget://image/tab/2.png',
                imgLight: 'widget://image/tab/2.png'
            }, {
                w: 40,
                h: 40,
                img: 'widget://image/tab/3.png',
                imgLight: 'widget://image/tab/3.png'
            }, {
                w: 40,
                h: 40,
                img: 'widget://image/tab/4.png',
                imgLight: 'widget://image/tab/4.png'
            }],
            startAngle: -45,
            wholeAngle: 90,
            radius: 100,
            fixedOn: api.cube,
            isTouchMove: 'true',
            mmRotation: 'false',
        }, function(ret, err) {
            fnSetIndex(ret.index);
            // console.log(ret.index);
        });

    }

    function fnSetIndex(index) {
      api.setFrameGroupIndex({
          name: 'cubes',
          index: index,
          scroll: true
      });
    }
</script>

</html>
